# MySQL进阶

## 约束

### 约束的概念

- 约束是作用于表中列上的规则，用于限制加入表的数据
- 约束的存在保证了数据库中数据的正确性、有效性和完整性

### 约束的分类

- 非空约束 (NOT NULL): 保证列中所有数据不能有null值;
- 唯一约束 (UNIQUE): 保证列中所有数据各不相同;
- 主键约束 (PRIMARY KEY): 主键是一行数据的唯一标识，要求非空且唯一
- 检查约束 (CHECK): 保证列中的值满足某一条件
- 默认约束 (DEFAULT): 保存数据时，未指定值则采用默认值
- 外键约束 (FOREIGN KEY): 外键用来让两个表的数据之间建立链接，保证数据的一致性和完整性

**注意：** MySQL不支持检查约束


**案例:** 根据需求，为表添加合适的约束

```sql
-- 员工表
DROP TABLE IF EXISTS emp;

CREATE TABLE IF NOT EXISTS emp (
	id INT PRIMARY KEY, -- 员工id, 主键且自增长
	ename VARCHAR (50) NOT NULL UNIQUE, -- 员工姓名, 非空且唯一
	joindate DATE NOT NULL, -- 入职日期, 非空
	salary DOUBLE (7, 2) NOT NULL, -- 工资, 非空
	bonus DOUBLE (7, 2) DEFAULT 0 -- 奖金, 如果没有奖金默认为0
);
```